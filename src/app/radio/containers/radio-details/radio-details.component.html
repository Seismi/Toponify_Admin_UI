<app-model-container>
  <p class="rightPane">
    <mat-tab-group mat-stretch-tabs class="stretched-tabs" [@.disabled]="true">
      <mat-tab data-qa="radio-details-tab">
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Details">info</mat-icon>
        </ng-template>
        <p class="detailsTab">
          <smi-radio-detail
            data-qa="radio-detail-form"
            [data]="users$ | async"
            [group]="radioDetailsForm"
            [isEditable]="isEditable"
            [modalMode]="modalMode"
            [radioStatus]="radio?.status"
            (archiveRadio)="onArchiveRadio()"
            (saveRadio)="onSaveRadio()"
            (deleteRadio)="onDeleteRadio()"
            [tags]="radio?.tags"
            [availableTags]="availableTags$ | async"
            (updateAvailableTags)="onUpdateAvailableTags()"
            (addTag)="onAddTag($event)"
            (removeTag)="onRemoveTag($event)"
            [radioCategory]="radio?.category"
            (cancel)="onCancel()"
          >
          </smi-radio-detail>
        </p>
      </mat-tab>
      <mat-tab data-qa="radio-relates-to-tab">
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Relates To">device_hub</mat-icon>
        </ng-template>
        <smi-relates-to-table
          data-qa="radio-relates-to-table"
          [data]="radio?.relatesTo"
          (unlinkRelatesTo)="onUnlinkRelatesTo($event)"
          (addRelatesTo)="onAddRelatesTo()"
      ></smi-relates-to-table>
      </mat-tab>
      <mat-tab data-qa="radio-discussions-tab">
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Discussions">comment</mat-icon>
        </ng-template>
        <p class="discussion-tab">
          <smi-chatbox [group]="radioDetailsForm" [data]="radio?.replies" data-qa="radio-chatbox"></smi-chatbox>
        </p>
        <p class="reply-input">
          <smi-reply-text [rows]="4" [group]="radioDetailsForm" (sendReply)="onSendReply($event)" data-qa="radio-message-form"></smi-reply-text>
        </p>
      </mat-tab>
      <mat-tab data-qa="radio-documentation-standards-tab">
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Documentation Standards">insert_drive_file</mat-icon>
        </ng-template>
        <smi-edit-documentation-standards-table
          data-qa="radio-documentation-standards-table"
          [data]="radio?.customPropertyValues"
          (saveProperty)="onSaveProperty($event)"
          (deleteProperty)="onDeleteProperty($event)"
        >
        </smi-edit-documentation-standards-table>
      </mat-tab>
    </mat-tab-group>
  </p>
  <div class="wrapper" *ngIf="(isLoading$ | async) === loadingStatus.loading">
    <mat-spinner></mat-spinner>
  </div>
</app-model-container>
