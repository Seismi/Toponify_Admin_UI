<app-model-container>
  <p class="rightPane">
    <mat-tab-group mat-stretch-tabs class="stretched-tabs" [@.disabled]="true">
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="example-tab-icon" matTooltip="Details">info</mat-icon>
        </ng-template>
        <p class="detailsTab">
          <smi-workpackage-detail
            data-qa="work-packages-details-form"
            [group]="workPackageDetailForm"
            (deleteWorkpackage)="onDeleteWorkpackage()"
            (saveWorkpackage)="onSaveWorkpackage()"
            (editWorkPackage)="onEditWorkPackage()"
            (cancel)="onCancel()"
            [baselineTableData]="workpackage?.baseline"
            [ownersTableData]="workpackage?.owners"
            [approversTableData]="workpackage?.approvers"
            (deleteOwner)="onDeleteOwner($event)"
            (addOwner)="onAddOwner()"
            [statusDraft]="workpackage?.status === 'draft'"
            [isEditable]="isEditable"
            [workpackageActionSubmit]="workpackage?.availableActions?.submit"
            [workpackageActionApprove]="workpackage?.availableActions?.approve"
            [workpackageActionReject]="workpackage?.availableActions?.reject"
            [workpackageActionMerge]="workpackage?.availableActions?.merge"
            [workpackageActionReset]="workpackage?.availableActions?.reset"
            [workpackageActionSupersede]="workpackage?.availableActions?.supersede"
            (submit)="submitWorkpackage()"
            (approve)="approveWorkpackage()"
            (reject)="rejectWorkpackage()"
            (merge)="mergeWorkpackage()"
            (reset)="resetWorkpackage()"
            (supersede)="supersedeWorkpackage()"
            [workpackageColour]="workpackage?.displayColour"
            (selectColour)="onSelectWorkPackageColour($event)"
            (openWorkPackage)="onOpenWorkPackage()"
            (archiveWorkPackage)="onArchiveWorkPackage()"
            [workPackageStatus]="workPackageStatus"
            [archived]="workpackage?.archived"
            [currentState]="workpackage?.id !== currentState"
            (addBaseline)="onAddBaseline()"
            (deleteBaseline)="onDeleteBaseline($event)"
          >
          </smi-workpackage-detail>
        </p>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Documentation Standards">insert_drive_file</mat-icon>
        </ng-template>
        <smi-edit-documentation-standards-table
          [appCanEdit]="[Roles.ADMIN, Roles.ARCHITECT]"
          data-qa="work-packages-documentation-standards-table"
          [data]="workpackage?.customPropertyValues"
          [isEditable]="workpackage?.status === 'draft'"
          (saveProperty)="onSaveProperties($event)"
          (deleteProperty)="onDeleteProperties($event)"
        >
        </smi-edit-documentation-standards-table>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Objectives">assignment_turned_in</mat-icon>
        </ng-template>
        <smi-objectives-table
          data-qa="work-packages-objectives-table"
          [data]="workpackage?.objectives"
          (addObjective)="onAddObjective()"
          (deleteObjective)="onDeleteObjectiveOrRadio($event, { objective: true })"
          (moveObjective)="onMoveObjective($event)"
        >
        </smi-objectives-table>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon matTooltip="RADIO">track_changes</mat-icon>
        </ng-template>
        <smi-radios-table
          data-qa="work-packages-radio-table"
          [data]="workpackage?.radios"
          [statusDraft]="workpackage?.status === 'draft'"
          (addRadio)="onAddObjectiveOrRadio({ objective: false })"
          (deleteRadio)="onDeleteObjectiveOrRadio($event, { objective: false })"
          (editRadio)="onEditRadio($event)"
        >
        </smi-radios-table>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon matTooltip="Changes">list</mat-icon>
        </ng-template>
        <smi-change-table data-qa="work-packages-changes-table" [data]="workpackage?.changes"> </smi-change-table>
      </mat-tab>
    </mat-tab-group>
    <smi-spinner *ngIf="isLoading"></smi-spinner>
  </p>
</app-model-container>
