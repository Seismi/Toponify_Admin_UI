<form [formGroup]="group">
    <!-- Name -->
    <mat-form-field [ngClass]="{disabled: !isEditable}">
        <input matInput placeholder="Name" formControlName="name" data-hook="workpackage-detail-name">
        <mat-error>This field is required!</mat-error>
    </mat-form-field>

    <!-- Description -->
    <mat-form-field [ngClass]="{disabled: !isEditable}">
        <textarea matInput placeholder="Description" formControlName="description" data-hook="workpackage-detail-description"></textarea>
    </mat-form-field>

    <!-- Baseline Table -->
    <smi-baseline-table
        data-hook="workpackage-detail-baseline-table"
        *ngIf="!modalMode" 
        [data]="baselineTableData"
        [isEditable]="isEditable">
    </smi-baseline-table>

    <!-- Owners Table -->
    <smi-owners-table
        data-hook="workpackage-detail-owners-table"
        *ngIf="!modalMode" 
        [data]="ownersTableData"
        (addOwner)="onAddOwner($event)"
        (deleteOwner)="onDeleteOwner($event)"
        (selectOwner)="onSelectOwner($event)"
        [isEditable]="isEditable"
        [ngClass]="{disabled: !isEditable}">
    </smi-owners-table>

    <!-- Approvers Table -->
    <smi-approvers-table
        data-hook="workpackage-detail-approvers-table"
        *ngIf="!modalMode" 
        [data]="approversTableData">
    </smi-approvers-table>

    <!-- Select Baseline -->
    <smi-wp-baseline-dropdown
        data-hook="workpackage-detail-baseline-selection"
        *ngIf="modalMode"
        [data]="baseline"
        [selectedBaseline]="selectedBaseline">
    </smi-wp-baseline-dropdown>

    <!-- Select Owners -->
    <smi-wp-owners-dropdown
        data-hook="workpackage-detail-owners-selection"
        *ngIf="modalMode"
        [data]="owners"
        [selectedOwners]="selectedOwners">
    </smi-wp-owners-dropdown>

    <!-- Select Status -->
    <mat-form-field *ngIf="modalMode">
        <mat-select placeholder="Status" formControlName="status" data-hook="workpackage-detail-status">
            <mat-option *ngFor="let status of workPackageStatus" [value]="status">{{status}}</mat-option>
        </mat-select>
        <mat-error>This field is required!</mat-error>
    </mat-form-field>

    <div class="form-group" *ngIf="!modalMode">
        <div *ngIf="!isEditable">
            <button type="button" mat-flat-button color="primary" (click)="onEdit()" data-hook="workpackage-detail-edit">Edit</button>
            <button type="button" mat-raised-button color="primary" data-hook="workpackage-detail-open">Open</button>
            <button type="button" mat-raised-button color="primary" data-hook="workpackage-detail-copy">Copy</button>
            <button type="button" mat-flat-button color="warn" (click)="onDelete()" data-hook="workpackage-detail-delete">Delete</button>
        </div>
        <div *ngIf="isEditable">
            <button mat-flat-button color="primary" (click)="onSave()" data-hook="workpackage-detail-save">Save</button>
            <button mat-flat-button (click)="onCancel()" data-hook="workpackage-detail-cancel">Cancel</button>
        </div>
    </div>
</form>