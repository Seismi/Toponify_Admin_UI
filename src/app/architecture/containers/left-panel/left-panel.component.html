<mat-tab-group
  mat-stretch-tabs
  [@.disabled]="true"
  [selectedIndex]="selectedLeftTab"
  (selectedTabChange)="tabClick.emit($event.index)"
>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon matTooltip="Work Packages">business_center</mat-icon>
    </ng-template>
    <smi-workpackage-tab-table
      class="workpackage-table"
      [canSelectWorkpackage]="canSelectWorkpackages"
      [data]="workpackages"
      (selectWorkPackage)="onSelectWorkPackage($event)"
      (selectColour)="onSelectColour($event)"
      (setWorkpackageEditMode)="setWorkpackageEditMode.emit($event)"
    >
    </smi-workpackage-tab-table>
  </mat-tab>
  <mat-tab *ngIf="workPackageIsEditable">
    <ng-template mat-tab-label>
      <mat-icon matTooltip="Edit">edit</mat-icon>
    </ng-template>
    <ng-template matTabContent>
      <p class="palette" *ngIf="!mapView">
        <app-architecture-palette></app-architecture-palette>
      </p>
      <div class="edit-tab-mapView" *ngIf="mapView">
        <button mat-raised-button color="primary" (click)="addComponent.emit('component')">Create {{ currentFilterLevel.replace('map', '') }}</button>
        <button mat-raised-button color="primary" (click)="addInterface.emit('interface')">Create direct interface</button>
        <button mat-raised-button color="primary" (click)="addInterfaceWithTransformation.emit()">Create interface with transformation</button>
      </div>
    </ng-template>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon matTooltip="Layout Settings">settings_applications</mat-icon>
    </ng-template>
    <smi-analysis-tab
      (displayOptionsChanged)="displayOptionsChanged($event)"
      [viewLevel]="viewLevel"
      [checked]="checked"
      [layout]="layout"
      [group]="group"
      (addLayout)="addLayout.emit()"
      (filterRadioSeverity)="filterRadioSeverity.emit()"
      (collapseAllNodes)="collapseAllNodes.emit()"
      (summariseAllNodes)="summariseAllNodes.emit()"
      (expandAll)="expandAll.emit()"
    >
    </smi-analysis-tab>
  </mat-tab>
</mat-tab-group>
