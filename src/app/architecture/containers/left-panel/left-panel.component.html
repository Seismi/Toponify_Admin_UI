<div class="content" [ngClass]="{ editTab: tabIndex === 1 }">
  <mat-tab-group
    [style.width.px]="tabIndex === 1 ? 205 : 420"
    #mainTabGroup
    id="tab-group"
    mat-stretch-tabs
    [@.disabled]="true"
    [selectedIndex]="selectedLeftTab"
    (selectedTabChange)="onTabClick($event)"
  >
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon matTooltip="Work Packages">business_center</mat-icon>
      </ng-template>
      <smi-workpackage-tab-table
        [canSelectWorkpackage]="canSelectWorkpackages"
        [data]="workpackages"
        (selectWorkPackage)="onSelectWorkPackage($event)"
        (selectColour)="onSelectColour($event)"
        (setWorkpackageEditMode)="onSetWorkPackageEditMode($event)"
      >
      </smi-workpackage-tab-table>
    </mat-tab>
    <mat-tab *ngIf="workPackageIsEditable">
      <ng-template mat-tab-label>
        <mat-icon matTooltip="Edit">edit</mat-icon>
      </ng-template>
      <ng-template matTabContent>
        <p class="palette">
          <app-architecture-palette></app-architecture-palette>
        </p>
      </ng-template>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon matTooltip="Layout Settings">settings_applications</mat-icon>
      </ng-template>
      <smi-analysis-tab
        (displayOptionsChanged)="displayOptionsChanged($event)"
        [viewLevel]="viewLevel"
        [checked]="checked"
        [layout]="layout"
        [group]="group"
        (filterRadioSeverity)="onFilterRadioSeverity()"
        (collapseAllNodes)="onCollapseAllNodes()"
        (summariseAllNodes)="onSummariseAllNodes()"
        [allowEditLayouts]="allowEditLayouts"
        (editLayout)="onEditLayout()"
        (expandAll)="onExpandAll()"
      >
      </smi-analysis-tab>
    </mat-tab>
  </mat-tab-group>
</div>

<!-- Hide left pane button -->
<button mat-raised-button color="primary" class="hide-btn" (click)="onHideLeftPane()">
  <mat-icon>keyboard_arrow_left</mat-icon>
</button>

<!-- Add Layout button -->
<button mat-raised-button color="primary" class="layout-btn" (click)="onAddLayout()" *ngIf="layoutSettingsTab">
  Add Layout
</button>

<!-- Download layout image button -->
<mat-icon class="download-image"
  matTooltip="Download image of the layout"
  (click)="onDownloadImage()"
  *ngIf="layoutSettingsTab">
  get_app
</mat-icon>
