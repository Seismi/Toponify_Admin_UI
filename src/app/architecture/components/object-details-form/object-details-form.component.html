<form [formGroup]="group">
  <div [ngClass]="{ disabled: nodeIsEditable() }">
    <mat-form-field>
      <input matInput placeholder="Name" formControlName="name" [ngClass]="{ editable: !nodeIsEditable() }" />
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Category" formControlName="category" [readonly]="true" />
    </mat-form-field>

    <mat-form-field>
      <textarea
        matInput
        placeholder="Description"
        rows="4"
        formControlName="description"
        [ngClass]="{ editable: !nodeIsEditable() }"
      ></textarea>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Tags" formControlName="tags" [ngClass]="{ editable: !nodeIsEditable() }" />
    </mat-form-field>
  </div>

  <div class="form-group" *ngIf="!nodeIsEditable()">
    <button mat-flat-button color="primary" [disabled]="!group.valid" (click)="onSave()">Save</button>
    <button mat-flat-button (click)="onCancel()">Cancel</button>
  </div>

  <div>
    <smi-owners-table-in-architecture
      [data]="owners"
      [isEditable]="!nodeIsEditable()"
      (addOwner)="onAddOwner()"
      (deleteOwner)="onDeleteOwner($event)"
    >
    </smi-owners-table-in-architecture>
    <smi-descendants-table-in-architecture
      *ngIf="!clickedOnLink && !attributesPage && viewLevel !== 4"
      [data]="descendants"
      [isEditable]="!nodeIsEditable()"
      (addDescendant)="onAddDescendant()"
      (deleteDescendant)="onDeleteDescendant($event)"
    >
    </smi-descendants-table-in-architecture>
    <smi-related-attribute-table
      *ngIf="attributesPage"
      [data]="relatedAttributes"
      [isEditable]="workPackageIsEditable"
      [selectedRelatedIndex]="selectedRelatedIndex"
      (selectRelatedAttribute)="onSelectRelatedAttribute($event)"
      [selectAttribute]="selectAttribute"
      (addRelatedAttribute)="onAddRelatedAttribute()"
      (deleteRelatedAttribute)="onDeleteRelatedAttribute()"
    >
    </smi-related-attribute-table>
  </div>
</form>
