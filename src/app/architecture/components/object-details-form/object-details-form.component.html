<form [formGroup]="group">
  <div [ngClass]="{disabled: !isEditable}">
    <mat-form-field>
      <input matInput placeholder="Name" formControlName="name" [ngClass]="{ editable: isEditable }">
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Category" formControlName="category" [readonly]="true">
    </mat-form-field>

    <smi-owners-table-in-architecture
      *ngIf="!clickedOnLink"
      [data]="owners"
      [isEditable]="isEditable"
      [selectedRowIndex]="selectedOwnerIndex"
      [selectedOwner]="selectedOwner"
      (selectOwner)="onSelectOwner($event)"
      (addOwner)="onAddOwner()"
      (deleteOwner)="onDeleteOwner()">
    </smi-owners-table-in-architecture>

    <mat-form-field>
      <textarea matInput placeholder="Description" rows="4" formControlName="description" [ngClass]="{ editable: isEditable }"></textarea>
    </mat-form-field>

    <mat-form-field *ngIf="!clickedOnLink">
      <input matInput placeholder="Tags" formControlName="tags" [ngClass]="{ editable: isEditable }">
    </mat-form-field>

    <smi-descendants-table-in-architecture
      *ngIf="!clickedOnLink" [data]="descendants"
      [isEditable]="isEditable"
      (addDescendant)="onAddDescendant()"
      (deleteDescendant)="onDeleteDescendant($event)">
    </smi-descendants-table-in-architecture>
  </div>

  <div class="form-group" *ngIf="workPackageIsEditable">
    <button *ngIf="!isEditable" mat-flat-button color="primary" (click)="onEdit()">Edit</button>
    <button *ngIf="!isEditable" mat-flat-button color="warn" (click)="onDelete()">Delete</button>
    <div *ngIf="isEditable">
        <button mat-flat-button color="primary" [disabled]="!group.valid" (click)="onSave()">Save</button>
        <button mat-flat-button (click)="onCancel()">Cancel</button>
    </div>
  </div>
</form>
