<table mat-table [dataSource]="dataSource" [style.width.%]="100">
  <!-- Category Column -->
  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef>Category</th>
    <td mat-cell *matCellDef="let element" [ngSwitch]="element.category">
      <mat-icon *ngSwitchCase="'master data'" svgIcon="data_set-master-data"></mat-icon>
      <mat-icon *ngSwitchCase="'physical'" svgIcon="data_set-physical"></mat-icon>
      <mat-icon *ngSwitchCase="'virtual'" svgIcon="data_set-virtual"></mat-icon>
      <mat-icon *ngSwitchCase="'dimension'" svgIcon="dim"></mat-icon>
      <mat-icon *ngSwitchCase="'key'" svgIcon="rc-keyrc"></mat-icon>
      <mat-icon *ngSwitchCase="'list'" svgIcon="rc-list"></mat-icon>
      <mat-icon *ngSwitchCase="'structure'" svgIcon="rc-structure"></mat-icon>
      <mat-icon *ngSwitchCase="'analytical'" svgIcon="sys-analytical"></mat-icon>
      <mat-icon *ngSwitchCase="'file'" svgIcon="sys-files"></mat-icon>
      <mat-icon *ngSwitchCase="'reporting'" svgIcon="sys-reporting"></mat-icon>
      <mat-icon *ngSwitchCase="'transactional'" svgIcon="sys-transactional"></mat-icon>
    </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
  </ng-container>

  <!-- Description Column -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let element">{{ element.description }}</td>
  </ng-container>

  <!-- Tags Column -->
  <ng-container matColumnDef="tags">
    <th mat-header-cell *matHeaderCellDef>Tags</th>
    <td mat-cell *matCellDef="let element">{{ element.tags }}</td>
  </ng-container>

  <!-- RADIO Column -->
  <ng-container matColumnDef="radio">
    <th mat-header-cell *matHeaderCellDef>
      <mat-icon>track_changes</mat-icon>
    </th>
    <td mat-cell *matCellDef="let element">
      <span
        matTooltip="risks"
        [ngStyle]="{ 'background-color': 'orange' }"
        class="badge badge-pill"
        *ngIf="element.relatedRadioCounts.risks > 0">
        {{ element.relatedRadioCounts.risks }}
      </span>
      <span
        matTooltip="assumptions"
        [ngStyle]="{ 'background-color': 'yellow' }"
        class="badge badge-pill" 
        *ngIf="element.relatedRadioCounts.assumptions > 0">
        {{ element.relatedRadioCounts.assumptions }}
      </span>
      <span
        matTooltip="dependencies"
        [ngStyle]="{ 'background-color': 'blue' }"
        class="badge badge-pill" 
        *ngIf="element.relatedRadioCounts.dependencies > 0">
        {{ element.relatedRadioCounts.dependencies }}
      </span>
      <span
        matTooltip="issues"
        [ngStyle]="{ 'background-color': 'red' }"
        class="badge badge-pill"
        *ngIf="element.relatedRadioCounts.issues > 0">
        {{ element.relatedRadioCounts.issues }}
      </span>
      <span
        matTooltip="opportunities"
        [ngStyle]="{ 'background-color': 'green' }"
        class="badge badge-pill" 
        *ngIf="element.relatedRadioCounts.opportunities > 0">
        {{ element.relatedRadioCounts.opportunities }}
      </span>
  </ng-container>

  <!-- Owner Column -->
  <ng-container matColumnDef="owner">
    <th mat-header-cell *matHeaderCellDef>Owner</th>
    <td mat-cell *matCellDef="let element">{{ element.owner }}</td>
  </ng-container>

  <!-- Source Column -->
  <ng-container matColumnDef="source">
    <th mat-header-cell *matHeaderCellDef>Source</th>
    <td mat-cell *matCellDef="let element">{{ getNodeName(element.sourceId) | async }}</td>
  </ng-container>

  <!-- Target Column -->
  <ng-container matColumnDef="target">
    <th mat-header-cell *matHeaderCellDef>Target</th>
    <td mat-cell *matCellDef="let element">{{ getNodeName(element.targetId) | async }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    [ngClass]="{ highlight: selectedItem?.id == row.id }"
    (dblclick)="dblClick(row)"
    (click)="onSelect(row)"
  ></tr>
</table>

<mat-paginator [pageSizeOptions]="[10, 25]"></mat-paginator>
