<div class="wrapper">
  <div class="search-container">
    <input placeholder="Search" (keyup)="onSearch($event.target.value)">
  </div>
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element; let i = index">
        <mat-icon *ngIf="i === index && unset; else elseBlock" class="favourite-icon" (click)="onSetFavourite(element, i)">star_outline</mat-icon>
        <ng-template #elseBlock>
          <mat-icon class="favourite-icon" (click)="onUnsetFavourite(element, i)">grade</mat-icon>
        </ng-template>
        <mat-icon *ngIf="element.favouriteType === FavouriteType.scope">pages</mat-icon>
        <mat-icon *ngIf="element.favouriteType === FavouriteType.radioView">track_changes</mat-icon>
        <div class="title">{{ element.name }} </div>
        <div class="chips">
          <mat-chip-list>
            <mat-chip matTooltip="{{ getTooltip(element.radioSummary.risks) }}" [ngStyle]="{ 'background-color': getChipColour(element.radioSummary.risks) }">R</mat-chip>
            <mat-chip matTooltip="{{ getTooltip(element.radioSummary.assumptions) }}" [ngStyle]="{ 'background-color': getChipColour(element.radioSummary.assumptions) }">A</mat-chip>
            <mat-chip matTooltip="{{ getTooltip(element.radioSummary.dependencies) }}" [ngStyle]="{ 'background-color': getChipColour(element.radioSummary.dependencies) }">D</mat-chip>
            <mat-chip matTooltip="{{ getTooltip(element.radioSummary.issues) }}" [ngStyle]="{ 'background-color': getChipColour(element.radioSummary.issues), 'padding': '0px 14px' }">I</mat-chip>
            <mat-chip matTooltip="{{ getTooltip(element.radioSummary.opportunities) }}" [ngStyle]="{ 'background-color': getChipColour(element.radioSummary.opportunities) }">O</mat-chip>
          </mat-chip-list>
        </div>
        <div class="actions">
          <button mat-raised-button color="primary" (click)="onOpen(element, 'systems')" *ngIf="element.favouriteType === FavouriteType.scope"><mat-icon>device_hub</mat-icon>Systems</button>
          <!-- <button mat-raised-button color="primary" (click)="onOpen(element, 'data')" *ngIf="element.favouriteType === FavouriteType.scope"><mat-icon>device_hub</mat-icon>Data</button> -->
          <button mat-raised-button color="primary" (click)="onOpen(element, 'reports')" *ngIf="element.favouriteType === FavouriteType.scope"><mat-icon>bookmarks</mat-icon>Reports</button>
          <button mat-raised-button color="primary" (click)="onOpen(element, 'radios')" *ngIf="element.favouriteType === FavouriteType.radioView"><mat-icon>track_changes</mat-icon>RADIOs</button>
        </div>
      </td>
    </ng-container>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
</div>
